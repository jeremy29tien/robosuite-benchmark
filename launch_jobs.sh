#!/bin/bash

configs=(0-0-0-0-0  0-0-1-0-2  0-0-2-1-1  0-1-0-2-0  0-1-1-2-2  0-2-0-0-1  0-2-1-1-0  0-2-2-1-2  1-0-0-2-1  1-0-2-0-0  1-1-0-0-2  1-1-1-1-1  1-1-2-2-0  1-2-0-2-2  1-2-2-0-1  2-0-0-1-0  2-0-1-1-2  2-0-2-2-1  2-1-1-0-0  2-1-2-0-2  2-2-0-1-1  2-2-1-2-0  2-2-2-2-2
0-0-0-0-1  0-0-1-1-0  0-0-2-1-2  0-1-0-2-1  0-1-2-0-0  0-2-0-0-2  0-2-1-1-1  0-2-2-2-0  1-0-0-2-2  1-0-2-0-1  1-1-0-1-0  1-1-1-1-2  1-1-2-2-1  1-2-1-0-0  1-2-2-0-2  2-0-0-1-1  2-0-1-2-0  2-0-2-2-2  2-1-1-0-1  2-1-2-1-0  2-2-0-1-2  2-2-1-2-1
0-0-0-0-2  0-0-1-1-1  0-0-2-2-0  0-1-0-2-2  0-1-2-0-1  0-2-0-1-0  0-2-1-1-2  0-2-2-2-1  1-0-1-0-0  1-0-2-0-2  1-1-0-1-1  1-1-1-2-0  1-1-2-2-2  1-2-1-0-1  1-2-2-1-0  2-0-0-1-2  2-0-1-2-1  2-1-0-0-0  2-1-1-0-2  2-1-2-1-1  2-2-0-2-0  2-2-1-2-2
0-0-0-1-0  0-0-1-1-2  0-0-2-2-1  0-1-1-0-0  0-1-2-0-2  0-2-0-1-1  0-2-1-2-0  0-2-2-2-2  1-0-1-0-1  1-0-2-1-0  1-1-0-1-2  1-1-1-2-1  1-2-0-0-0  1-2-1-0-2  1-2-2-1-1  2-0-0-2-0  2-0-1-2-2  2-1-0-0-1  2-1-1-1-0  2-1-2-1-2  2-2-0-2-1  2-2-2-0-0
0-0-0-1-1  0-0-1-2-0  0-0-2-2-2  0-1-1-0-1  0-1-2-1-0  0-2-0-1-2  0-2-1-2-1  1-0-0-0-0  1-0-1-0-2  1-0-2-1-1  1-1-0-2-0  1-1-1-2-2  1-2-0-0-1  1-2-1-1-0  1-2-2-1-2  2-0-0-2-1  2-0-2-0-0  2-1-0-0-2  2-1-1-1-1  2-1-2-2-0  2-2-0-2-2  2-2-2-0-1
0-0-0-1-2  0-0-1-2-1  0-1-0-0-0  0-1-1-0-2  0-1-2-1-1  0-2-0-2-0  0-2-1-2-2  1-0-0-0-1  1-0-1-1-0  1-0-2-1-2  1-1-0-2-1  1-1-2-0-0  1-2-0-0-2  1-2-1-1-1  1-2-2-2-0  2-0-0-2-2  2-0-2-0-1  2-1-0-1-0  2-1-1-1-2  2-1-2-2-1  2-2-1-0-0  2-2-2-0-2
0-0-0-2-0  0-0-1-2-2  0-1-0-0-1  0-1-1-1-0  0-1-2-1-2  0-2-0-2-1  0-2-2-0-0  1-0-0-0-2  1-0-1-1-1  1-0-2-2-0  1-1-0-2-2  1-1-2-0-1  1-2-0-1-0  1-2-1-1-2  1-2-2-2-1  2-0-1-0-0  2-0-2-0-2  2-1-0-1-1  2-1-1-2-0  2-1-2-2-2  2-2-1-0-1  2-2-2-1-0
0-0-0-2-1  0-0-2-0-0  0-1-0-0-2  0-1-1-1-1  0-1-2-2-0  0-2-0-2-2  0-2-2-0-1  1-0-0-1-0  1-0-1-1-2  1-0-2-2-1  1-1-1-0-0  1-1-2-0-2  1-2-0-1-1  1-2-1-2-0  1-2-2-2-2  2-0-1-0-1  2-0-2-1-0  2-1-0-1-2  2-1-1-2-1  2-2-0-0-0  2-2-1-0-2  2-2-2-1-1
0-0-0-2-2  0-0-2-0-1  0-1-0-1-0  0-1-1-1-2  0-1-2-2-1  0-2-1-0-0  0-2-2-0-2  1-0-0-1-1  1-0-1-2-0  1-0-2-2-2  1-1-1-0-1  1-1-2-1-0  1-2-0-1-2  1-2-1-2-1  2-0-0-0-0  2-0-1-0-2  2-0-2-1-1  2-1-0-2-0  2-1-1-2-2  2-2-0-0-1  2-2-1-1-0  2-2-2-1-2
0-0-1-0-0  0-0-2-0-2  0-1-0-1-1  0-1-1-2-0  0-1-2-2-2  0-2-1-0-1  0-2-2-1-0  1-0-0-1-2  1-0-1-2-1  1-1-0-0-0  1-1-1-0-2  1-1-2-1-1  1-2-0-2-0  1-2-1-2-2  2-0-0-0-1  2-0-1-1-0  2-0-2-1-2  2-1-0-2-1  2-1-2-0-0  2-2-0-0-2  2-2-1-1-1  2-2-2-2-0
0-0-1-0-1  0-0-2-1-0  0-1-0-1-2  0-1-1-2-1  0-2-0-0-0  0-2-1-0-2  0-2-2-1-1  1-0-0-2-0  1-0-1-2-2  1-1-0-0-1  1-1-1-1-0  1-1-2-1-2  1-2-0-2-1  1-2-2-0-0  2-0-0-0-2  2-0-1-1-1  2-0-2-2-0  2-1-0-2-2  2-1-2-0-1  2-2-0-1-0  2-2-1-1-2  2-2-2-2-1)

for config in "${configs[@]}"; do
    ctl job run --name "jtien-$config-job" --command "bash -c 'cd /code/nl_pref/robosuite-benchmark/ && python scripts/train.py --variant training_configs/LiftModded-Jaco-OSC-POSITION-SEED251/diverse-rewards/$config/variant.json --seed 251 --log_dir /jtien-data/diverse-rewards/$config/'" \
                --container=docker.io/jeremytien/devbox:robosuite-benchmark \
                --gpu 0 --cpu 8 \
                --shared-host-dir-mount /code \
                --force-pull \
                --volume-name ${USER}-home \
                --volume-mount /${USER}-data \
                --high-priority
done

#cd nl_pref/robosuite-benchmark/ && export PYTHONPATH=.:$PYTHONPATH &&
# ^ NOTE: bash -c wrapper necessary because cd is specifically a bash shell command, not a general executable.
# ../log/runs/diverse-rewards/$config/
# ^ NOTE: this should probably work? but we replaced it with writing to a volume
# NOTE: we needed to use different quotes -- " for the whole command and ' for the command being run by bash.
